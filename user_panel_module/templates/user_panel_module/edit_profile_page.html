{% extends 'user_panel_module/base.html' %}

{% block title %}
    Edit Profile
{% endblock %}

{% block content %}
    <header class="dashboard-header">
        <h1>My Profile</h1>
        <div class="header-actions">
            <!-- Same header actions as dashboard -->
        </div>
    </header>

    <!-- Profile Edit Form -->
    <section class="profile-edit-section">
        <form action="{{ url_for('user_views.edit_profile') }}" method="post" enctype="multipart/form-data">
            {{ edit_profile_form.hidden_tag() }}
            {{ edit_profile_form.csrf_token }}
            <div class="form-header">
                <h2>Personal Information</h2>
                <button
                        type="button"
                        class="cancel-btn"
                        onclick="window.location.href='{{ url_for('user_views.user') }}'">Cancel
                </button>
                <button type="submit" class="save-btn">Save Changes</button>

            </div>

            <div class="form-content">
                <div class="profile-picture-edit">
                    <div class="photo-container">
                        {% if current_user.avatar %}
                            <img
                                    src='{{ url_for('setting_views.get_image',filename=current_user.avatar) }}'
                                    alt="Profile"
                                    id="profileImage"

                            />
                        {% endif %}
                        <label for="imageUpload" class="upload-btn">
                            <i class="fas fa-camera"></i>
                            <span>{{ edit_profile_form.avatar.label }}</span>
                        </label>
                        {{ edit_profile_form.avatar }}

                    </div>
                </div>
                <div class="form-fields">
                    <div class="form-group">
                        <label for="first_name">{{ edit_profile_form.first_name.label }}</label>
                        {{ edit_profile_form.first_name }}
                    </div>

                    <div class="form-group">
                        <label for="last_name">{{ edit_profile_form.last_name.label }}</label>
                        {{ edit_profile_form.last_name }}
                    </div>
                    <div class="form-group">
                        <label for="address">  {{ edit_profile_form.address.label }}</label>
                        {{ edit_profile_form.address }}
                    </div>
                    <div class="form-group">
                        <label for="about_user">  {{ edit_profile_form.about_user.label }}</label>
                        {{ edit_profile_form.about_user }}
                    </div>


                </div>
            </div>
        </form>
    </section>
{% endblock %}